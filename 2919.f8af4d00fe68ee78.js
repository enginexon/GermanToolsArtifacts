"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2919],{2919:(U,_,r)=>{r.r(_),r.d(_,{CountryDetailsPage:()=>Q});var t=r(2029),c=r(6814),s=r(3582),u=r(293),x=r(3469),m=r(7398),g=r(2181),d=r(9397),T=r(1993),h=r(7353),f=r(4664),C=r(4111);let y=(()=>{var a;class i extends h.m1{constructor(){super({text:"",textTranslation:"",translationVisible:!1}),this.translationService=(0,t.f3M)(C.s),this.text=this.selectSignal(n=>n.text),this.textTranslation=this.selectSignal(n=>n.textTranslation),this.translationIsVisible=this.selectSignal(n=>n.translationVisible),this.setText=this.updater((n,o)=>({...n,text:o||"",textTranslation:"",translationVisible:!1})),this.hideTranslation=this.updater(n=>({...n,translationVisible:!1})),this.showTranslation=this.updater(n=>({...n,translationVisible:!0})),this.translate=this.effect(n=>n.pipe((0,g.h)(o=>!this.textTranslation()),(0,f.w)(()=>this.translationService.translateFromDeToEn(this.text()).pipe((0,h._b)(o=>this.patchState({textTranslation:o}),o=>{},()=>{})))))}}return(a=i).\u0275fac=function(n){return new(n||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),i})();function b(a,i){if(1&a&&(t.ynx(0),t.TgZ(1,"div",3),t._uU(2),t.qZA(),t.TgZ(3,"div",4),t._uU(4),t.qZA(),t.BQk()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(e.textTranslation()),t.xp6(2),t.Oqu(e.textOriginal())}}function v(a,i){if(1&a&&(t.ynx(0),t._uU(1),t.BQk()),2&a){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.textOriginal()," ")}}function Z(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"span",1),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.translationIsVisible()?o.hideTranslation():o.showTranslation())}),t.YNc(1,b,5,2,"ng-container",2),t.YNc(2,v,2,1,"ng-container",2),t.qZA()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.translationIsVisible()&&e.textTranslation()),t.xp6(1),t.Q6J("ngIf",!(e.translationIsVisible()&&e.textTranslation()))}}let P=(()=>{var a;class i{set text(n){this.store.setText(n)}constructor(){this.store=(0,t.f3M)(y),this.textOriginal=this.store.text,this.textTranslation=this.store.textTranslation,this.translationIsVisible=this.store.translationIsVisible,this.translated=new t.vpe}ngOnInit(){}showTranslation(){this.store.translate(),this.store.showTranslation(),this.translated.emit(this.textOriginal())}hideTranslation(){this.store.hideTranslation()}}return(a=i).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-translatable-span"]],inputs:{text:"text"},outputs:{translated:"translated"},standalone:!0,features:[t._Bn([y]),t.jDz],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[4,"ngIf"],[1,"translation"],[1,"original"]],template:function(n,o){1&n&&t.YNc(0,Z,3,2,"span",0),2&n&&t.Q6J("ngIf",o.textOriginal())},dependencies:[c.ez,c.O5],styles:["span[_ngcontent-%COMP%]{display:inline-block;cursor:pointer}div.original[_ngcontent-%COMP%], div.translation[_ngcontent-%COMP%]{display:block;text-align:center}div.original[_ngcontent-%COMP%]{color:#fff;background:green}div.translation[_ngcontent-%COMP%]{color:green}"],changeDetection:0}),i})();function D(a,i){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-translatable-span",2),t.NdJ("translated",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.spanTranslated(o))}),t.qZA(),t.TgZ(2,"span"),t._uU(3,"\xa0"),t.qZA(),t.BQk()}if(2&a){const e=i.$implicit;t.xp6(1),t.Q6J("text",e)}}function S(a,i){if(1&a&&(t.TgZ(0,"p"),t.YNc(1,D,4,1,"ng-container",1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.texts)}}let O=(()=>{var a;class i{set text(n){this.texts=n.split(" ")}constructor(){this.texts=[],this.translated=new t.vpe}ngOnInit(){}spanTranslated(n){this.translated.emit(n)}}return(a=i).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-translatable-paragraph"]],inputs:{text:"text"},outputs:{translated:"translated"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"text","translated"]],template:function(n,o){1&n&&t.YNc(0,S,2,1,"p",0),2&n&&t.Q6J("ngIf",null==o.texts?null:o.texts.length)},dependencies:[c.ez,c.sg,c.O5,P],styles:["p[_ngcontent-%COMP%]{font-size:large}span[_ngcontent-%COMP%]{display:inline-block}"],changeDetection:0}),i})();function I(a,i){if(1&a&&(t.TgZ(0,"ion-card-header")(1,"ion-card-title"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.title)}}function w(a,i){if(1&a&&(t.ynx(0),t._UZ(1,"p"),t.TgZ(2,"p"),t._uU(3),t.qZA(),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.textTranslation)}}function A(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-buttons",2)(2,"ion-button",3),t.NdJ("click",function(){const l=t.CHM(e).$implicit,p=t.oxw(3);return t.KtG(p.playParagraph(l))}),t._UZ(3,"ion-icon",4),t.qZA(),t.TgZ(4,"ion-button",3),t.NdJ("click",function(){const l=t.CHM(e).$implicit,p=t.oxw(3);return t.KtG(p.translateParagraph(l))}),t._UZ(5,"ion-icon",5),t.qZA()(),t.TgZ(6,"app-translatable-paragraph",6),t.NdJ("translated",function(o){t.CHM(e);const l=t.oxw(3);return t.KtG(l.playTranslatedText(o))}),t.qZA(),t.YNc(7,w,4,1,"ng-container",0),t.qZA()}if(2&a){const e=i.$implicit;t.xp6(6),t.Q6J("text",e.text),t.xp6(1),t.Q6J("ngIf",e.textTranslation)}}function M(a,i){if(1&a&&(t.TgZ(0,"ion-card"),t.YNc(1,I,3,1,"ion-card-header",0),t.TgZ(2,"ion-list"),t.YNc(3,A,8,2,"ion-item",1),t.qZA()()),2&a){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.title),t.xp6(2),t.Q6J("ngForOf",e.paragraphs)}}function J(a,i){if(1&a&&(t.ynx(0),t.YNc(1,M,4,2,"ion-card",1),t.BQk()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.country.sections)}}let k=(()=>{var a;class i{constructor(){this.play=new t.vpe,this.playText=new t.vpe,this.translate=new t.vpe}ngOnInit(){}playParagraph(n){this.play.emit(n)}translateParagraph(n){this.translate.emit(n)}playTranslatedText(n){this.playText.emit(n)}}return(a=i).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-country-details"]],inputs:{country:"country"},outputs:{play:"play",playText:"playText",translate:"translate"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["slot","start"],[3,"click"],["slot","icon-only","name","play-outline"],["slot","icon-only","name","language-outline"],[3,"text","translated"]],template:function(n,o){1&n&&t.YNc(0,J,2,1,"ng-container",0),2&n&&t.Q6J("ngIf",o.country)},dependencies:[c.ez,c.sg,c.O5,s.Pc,s.YG,s.Sm,s.PM,s.Zi,s.Dq,s.gu,s.Ie,s.q_,u.Bz,O],styles:["p[_ngcontent-%COMP%]{font-size:large}"],changeDetection:0}),i})();var N=r(1081);let Q=(()=>{var a;class i{constructor(){this.countryStore=(0,t.f3M)(x.d),this.route=(0,t.f3M)(u.gz),this.destroyRef=(0,t.f3M)(t.ktI),this.speechService=(0,t.f3M)(N.v),this.country=this.countryStore.selectCountry(""),this.country$=this.route.paramMap.pipe((0,T.sL)(this.destroyRef),(0,m.U)(n=>n.get("countryId")),(0,g.h)(n=>!!n),(0,d.b)(n=>{this.countryStore.loadById(n),this.country=this.countryStore.selectCountry(n)}))}ngOnInit(){this.country$.subscribe()}playParagraph(n){n&&(this.speechService.cancel(),this.speechService.sayUsingGerman(n.text))}translateParagraph(n){this.countryStore.translateParagraph(n)}openCors(){window.open("https://cors-anywhere.herokuapp.com/corsdemo")}playAll(){this.speechService.cancel();for(let n of this.country().sections)for(let o of n.paragraphs)this.speechService.sayUsingGerman(o.text)}playText(n){this.speechService.cancel(),this.speechService.sayUsingGerman(n)}}return(a=i).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-country-details-page"]],standalone:!0,features:[t.jDz],decls:16,vars:2,consts:[["slot","start"],["routerLink","/country","routerDirection","back"],["slot","icon-only","name","arrow-back-outline"],["slot","end"],[3,"click"],["slot","icon-only","name","play-forward-outline"],["slot","icon-only","name","language-outline"],["routerDirection","forward","routerLink","/settings"],["slot","icon-only","name","settings-outline"],[3,"country","play","playText","translate"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),t._UZ(4,"ion-icon",2),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6),t.qZA(),t.TgZ(7,"ion-buttons",3)(8,"ion-button",4),t.NdJ("click",function(){return o.playAll()}),t._UZ(9,"ion-icon",5),t.qZA(),t.TgZ(10,"ion-button",4),t.NdJ("click",function(){return o.openCors()}),t._UZ(11,"ion-icon",6),t.qZA(),t.TgZ(12,"ion-button",7),t._UZ(13,"ion-icon",8),t.qZA()()()(),t.TgZ(14,"ion-content")(15,"app-country-details",9),t.NdJ("play",function(p){return o.playParagraph(p)})("playText",function(p){return o.playText(p)})("translate",function(p){return o.translateParagraph(p)}),t.qZA()()),2&n&&(t.xp6(6),t.Oqu(o.country().name),t.xp6(9),t.Q6J("country",o.country()))},dependencies:[s.Pc,s.YG,s.Sm,s.W2,s.Gu,s.gu,s.wd,s.sr,s.YI,c.ez,u.Bz,u.rH,k],changeDetection:0}),i})()}}]);